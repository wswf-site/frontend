<script setup>
import { RouterView } from 'vue-router'
import { ref } from 'vue'

const showMegaCrewTable = ref(false)

// K-POP ë¯¸ì…˜ ë°ì´í„° ì¶”ê°€
const kpopMissionData = ref([
  { team: 'BUMSUP', views: '320ë§Œ', actualLike: 188059, estimatedLike: 1171, weight: 160 },
  { team: 'AGSQUAD', views: '161ë§Œ', actualLike: 120516, estimatedLike: 1009, weight: 119 },
  { team: 'RHTokyo', views: '168ë§Œ', actualLike: 111884, estimatedLike: 792, weight: 141 },
  { team: 'ROYAL_FAMILY', views: '185ë§Œ', actualLike: 92887, estimatedLike: 617, weight: 150 },
  { team: 'MOTIV', views: '119ë§Œ', actualLike: 97420, estimatedLike: 790, weight: 123 },
  { team: 'OSAKA_OjoGang', views: '138ë§Œ', actualLike: 80092, estimatedLike: 737, weight: 108 },
])

// MEGA CREW ë¯¸ì…˜ ë°ì´í„° ê¸°ì¡´ refì— ì¡°íšŒìˆ˜ ì¶”ê°€ (ì œê³µëœ ë°ì´í„°ì— ì¡°íšŒìˆ˜ ì»¬ëŸ¼ì´ ìˆì—ˆìœ¼ë¯€ë¡œ)
const megaCrewData = ref([
  { team: 'BUMSUP', views: '1221ë§Œ', actualLike: 1664854, estimatedLike: 5731, weight: 290 },
  { team: 'OSAKA_OjoGang', views: '678ë§Œ', actualLike: 698600, estimatedLike: 2756, weight: 253 },
  { team: 'MOTIV', views: '425ë§Œ', actualLike: 440094, estimatedLike: 1989, weight: 221 },
  { team: 'AGSQUAD', views: '391ë§Œ', actualLike: 385064, estimatedLike: 1535, weight: 250 },
  { team: 'RHTokyo', views: '360ë§Œ', actualLike: 145873, estimatedLike: 717, weight: 203 },
])
</script>

<template>
  <div class="main-container">
    <div style="padding: 20px">
      <h1>ğŸ¬ MISSION DASHBOARD</h1>
      <RouterView />
    </div>

    <div class="info-box-small">
      íŒ€ ì´ë¦„ì„ í´ë¦­í•˜ë©´ ìƒì„¸ í†µê³„ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br />
      ì¡°íšŒìˆ˜ëŠ” ì•½ 5ë¶„ë§ˆë‹¤ ì§‘ê³„ (youtube data API)
      <br />
      ì¢‹ì•„ìš” ìˆ˜ëŠ” ì•½ 30ë¶„ë§ˆë‹¤ ì§‘ê³„ (returnyoutubedislike.com) - likes ê°’ì„ í´ë¦­í•˜ë©´ ìˆ˜ì§‘í•œ ì‹œê°ì´
      ë‚˜ì˜µë‹ˆë‹¤.
    </div>

    <div class="accuracy-info-box">
      <p>
        <strong>âš ï¸ ì¢‹ì•„ìš” ìˆ˜ëŠ” ê°’ì´ ì •í™•í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</strong>
        <br />
        ë³¸ ë°ì´í„°ëŠ” YouTube ê³µì‹ APIë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ê°’ì´ ì•„ë‹ˆë©°, íƒ€ ì‚¬ì´íŠ¸ë¡œë¶€í„° ìˆ˜ì§‘í•œ ì •ë³´ë¥¼
        ê¸°ì¤€ìœ¼ë¡œ ì•½ 200ë°°ë¥¼ ì ìš©í•˜ì—¬ ì¶”ì •í•œ ìˆ˜ì¹˜ì…ë‹ˆë‹¤. <br />
      </p>

      <div class="x200-explanation-group">
        <button
          @click="showMegaCrewTable = !showMegaCrewTable"
          class="toggle-button minimal-toggle-button"
        >
          X200ì„ í•˜ëŠ” ì´ìœ 
          <span :class="['arrow-icon', { rotated: showMegaCrewTable }]">â–¼</span>
        </button>

        <div v-if="showMegaCrewTable" class="toggle-content-area minimal-content-area">
          <p class="x200-reason-text">
            ì¶”ì •ê°’ì— &times;200ì„ í•  ë•Œ ê·¸ë‚˜ë§ˆ ì¢‹ì•„ìš” ìˆ˜ê°€ ì‹¤ì œì™€ ë¹„ìŠ·í–ˆê¸° ë•Œë¬¸ì— &times;200ìœ¼ë¡œ
            ê³„ì‚°í–ˆìŠµë‹ˆë‹¤.<br />
          </p>

          <h3 class="mission-table-title">MEGA CREW ë¯¸ì…˜ ê²°ê³¼</h3>
          <table class="mega-crew-table no-background-table-rows">
            <thead>
              <tr>
                <th>Team</th>
                <th>Views</th>
                <th>ì‹¤ì œ Likes</th>
                <th>ì¶”ì • Likes (7/1 ê¸°ì¤€)</th>
                <th>ê°€ì¤‘ì¹˜</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="data in megaCrewData" :key="data.team">
                <td>{{ data.team }}</td>
                <td>{{ data.views }}</td>
                <td>{{ data.actualLike.toLocaleString() }}</td>
                <td>{{ data.estimatedLike.toLocaleString() }}</td>
                <td>
                  <b>{{ data.weight }}</b>
                </td>
              </tr>
            </tbody>
          </table>

          <h3 class="mission-table-title">K-POP ë¯¸ì…˜ ê²°ê³¼</h3>
          <table class="mission-table">
            <thead>
              <tr>
                <th>Team</th>
                <th>Views</th>
                <th>ì‹¤ì œ Likes</th>
                <th>ì¶”ì • Likes (7/2 ê¸°ì¤€)</th>
                <th><b>ê°€ì¤‘ì¹˜</b></th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="data in kpopMissionData" :key="data.team">
                <td>{{ data.team }}</td>
                <td>{{ data.views }}</td>
                <td>{{ data.actualLike.toLocaleString() }}</td>
                <td>{{ data.estimatedLike.toLocaleString() }}</td>
                <td>
                  <b>{{ data.weight }}</b>
                </td>
              </tr>
            </tbody>
          </table>
          <p>
            ì´ì „ ë¯¸ì…˜ë“¤ì„ ê¸°ì¤€ìœ¼ë¡œ ë³´ë©´, MEGA CREW ë¯¸ì…˜ì—ëŠ” ì•½ 200ë°° ì´ìƒì˜ ê°€ì¤‘ì¹˜ê°€ ì ìš©ë˜ì—ˆê³ ,
            K-POP ë¯¸ì…˜ì€ ì•½ 100~150ë°° ìˆ˜ì¤€ì…ë‹ˆë‹¤. (K-POP ë¯¸ì…˜ì˜ ê²½ìš°, ì¢‹ì•„ìš”ë¥¼ ì¶”ì •í•œ ë‚ ì§œê°€ í‰ê°€
            ë§ˆê°ì¼ë³´ë‹¤ ì´í›„ì´ë¯€ë¡œ, ë§ˆê° ë‹¹ì‹œ ì‹¤ì œ ê°€ì¤‘ì¹˜ëŠ” 150ë°° ì´ìƒì¼ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.)<br />
            ì ˆëŒ€ì ì´ì§„ ì•Šì§€ë§Œ ì¡°íšŒìˆ˜ê°€ ë†’ì•„ì§ˆìˆ˜ë¡ ê°€ì¤‘ì¹˜ë„ í•¨ê»˜ ë†’ì•„ì§€ëŠ” ê²½í–¥ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ
            ë³´ì…ë‹ˆë‹¤.<br />
            ë³¸ ì‚¬ì´íŠ¸ì—ì„œëŠ” ì¢‹ì•„ìš” ìˆ˜ ë°ì´í„°ì— ê¸°ë³¸ì ìœ¼ë¡œ <strong>200ë°° ê°€ì¤‘ì¹˜</strong>ë¥¼
            ì ìš©í–ˆìœ¼ë©°, &times;100 ë²„ì „ í‘œì—ì„œë§Œ <strong>100ë°° ê°€ì¤‘ì¹˜</strong>ë¡œ ê³„ì‚°í•œ ê²°ê³¼ë¥¼
            ì œê³µí•©ë‹ˆë‹¤.
          </p>

          <p class="explanation-note"></p>
        </div>
      </div>
    </div>
    í˜ì´ì§€ê°€ ëœ¨ì§€ ì•ŠëŠ”ë‹¤ë©´ ìƒˆë¡œê³ ì¹¨ í•´ì£¼ì„¸ìš”! <br />

    <div class="contact-info left-aligned-contact">
      í˜¹ì‹œë‚˜ ì˜¤ë¥˜ê°€ ìƒê¸´ë‹¤ë©´
      <a href="https://open.kakao.com/o/sht5aJDh" target="_blank" rel="noopener noreferrer">
        https://open.kakao.com/o/sht5aJDh
      </a>
      ë¡œ ì—°ë½ ë°”ëë‹ˆë‹¤!
    </div>
  </div>
</template>

<style scoped>
/* --- ì „ì²´ ë ˆì´ì•„ì›ƒ ë° ê¸°ë³¸ ìŠ¤íƒ€ì¼ --- */
.main-container {
  max-width: 800px;
  margin: 0 auto; /* ì¤‘ì•™ ì •ë ¬ */
  padding: 0 20px; /* ì¢Œìš° ì—¬ë°± */
}
/* @media ì¿¼ë¦¬ë¥¼ ì¶”ê°€í•˜ì—¬ ëª¨ë°”ì¼ í™”ë©´ì— ìµœì í™” */
@media (max-width: 768px) {
  /* í™”ë©´ ë„ˆë¹„ê°€ 768px ì´í•˜ì¼ ë•Œ ì ìš© */
  .main-container {
    max-width: 100%; /* ëª¨ë°”ì¼ì—ì„œëŠ” ìµœëŒ€ ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì • */
    padding: 0 15px; /* ëª¨ë°”ì¼ì—ì„œëŠ” ì–‘ì˜† íŒ¨ë”©ì„ 15pxë¡œ ì¤„ì—¬ ê³µê°„ í™•ë³´ */
  }
}

h1 {
  font-size: 2.2rem;
  margin-bottom: 20px;
  color: #333;
}

/* --- ì •ë³´ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ --- */
.info-box-small {
  font-size: 0.95rem;
  line-height: 1.5;
  color: #555;
  margin-top: 10px;
  margin-bottom: 15px; /* í•˜ë‹¨ ì—¬ë°± ì¶”ê°€ */
}

/* ì¢‹ì•„ìš” ì •í™•ë„ ì •ë³´ ë°•ìŠ¤ (X200 ì´ìœ ì™€ í‘œë¥¼ í¬í•¨) */
.accuracy-info-box {
  background-color: #fff3cd; /* ì—°í•œ ë…¸ë€ìƒ‰ ë°°ê²½ */
  border: 1px solid #ffeeba; /* ë…¸ë€ìƒ‰ í…Œë‘ë¦¬ */
  border-radius: 8px;
  padding: 15px 20px; /* ê¸°ë³¸ íŒ¨ë”© */
  margin-bottom: 20px;
  font-size: 1rem;
  color: #664d03;
  line-height: 1.6;
}

.accuracy-info-box strong {
  color: #993300;
}

/* --- X200 ì´ìœ  í† ê¸€ ê·¸ë£¹ (accuracy-info-box ë‚´ë¶€) --- */
.x200-explanation-group {
  margin-top: 15px; /* ì •í™•ë„ ì„¤ëª… í…ìŠ¤íŠ¸ì™€ì˜ ìƒë‹¨ ê°„ê²© */
  padding-top: 15px; /* ë‚´ë¶€ ë‚´ìš©ì˜ ìƒë‹¨ íŒ¨ë”© */
  /* ìœ„ì— ìˆëŠ” ì •ë³´ì™€ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ì ì„  */
  border-top: 1px dashed rgba(102, 77, 3, 0.3);
}

/* ìµœì†Œí•œì˜ ìŠ¤íƒ€ì¼ì„ ê°€ì§„ í† ê¸€ ë²„íŠ¼ (X200ì„ í•˜ëŠ” ì´ìœ ) */
.toggle-button.minimal-toggle-button {
  width: auto; /* ë‚´ìš©ì— ë”°ë¼ ë„ˆë¹„ ì¡°ì ˆ */
  background-color: transparent; /* ë°°ê²½ìƒ‰ ì—†ìŒ */
  border: none;
  padding: 0; /* íŒ¨ë”© ì—†ìŒ */
  font-size: 1rem; /* ê¸€ì í¬ê¸° ì¡°ì • */
  font-weight: bold; /* êµµê²Œ */
  color: #444; /* ëœ íŠ€ëŠ” ì–´ë‘ìš´ íšŒìƒ‰ìœ¼ë¡œ ë³€ê²½ */
  text-align: left;
  cursor: pointer;
  display: inline-flex; /* í…ìŠ¤íŠ¸ ë„ˆë¹„ë§Œí¼ë§Œ ì°¨ì§€ */
  align-items: center;
  justify-content: flex-start; /* ì™¼ìª½ ì •ë ¬ */
  transition:
    color 0.2s ease,
    text-decoration 0.2s ease;
}

.toggle-button.minimal-toggle-button:hover {
  color: #222; /* í˜¸ë²„ ì‹œ ë” ì–´ë‘ìš´ íšŒìƒ‰ìœ¼ë¡œ ë³€ê²½ */
  text-decoration: underline; /* í˜¸ë²„ ì‹œ ë°‘ì¤„ ìœ ì§€ */
}

.toggle-button.minimal-toggle-button .arrow-icon {
  margin-left: 5px; /* í™”ì‚´í‘œì™€ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© */
  font-size: 0.8em; /* í™”ì‚´í‘œ í¬ê¸° ì¡°ì • */
  color: inherit; /* ë¶€ëª¨ ìƒ‰ìƒ (ë²„íŠ¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒ)ì„ ë”°ë¥´ë„ë¡ ë³€ê²½ */
}

/* ìµœì†Œí•œì˜ ìŠ¤íƒ€ì¼ì„ ê°€ì§„ í† ê¸€ ë‚´ìš© ì˜ì—­ */
.toggle-content-area.minimal-content-area {
  background-color: transparent; /* ë°°ê²½ìƒ‰ ì—†ìŒ */
  border-top: none; /* ìƒë‹¨ í…Œë‘ë¦¬ ì—†ìŒ */
  padding-top: 15px; /* ìƒë‹¨ íŒ¨ë”© ìœ ì§€ */
  padding-left: 0;
  padding-right: 0;
}

.x200-reason-text {
  margin-top: 0;
  margin-bottom: 15px;
  font-size: 0.95rem;
  line-height: 1.5;
  color: #664d03; /* ë¶€ëª¨ ë°•ìŠ¤ ìƒ‰ìƒ ìƒì† */
}

.mission-table-title {
  font-size: 1.1rem; /* ë” ì‘ì€ ì œëª© */
  color: #444;
  margin-top: 0;
  margin-bottom: 15px;
  text-align: left; /* í‘œ ì œëª© ì™¼ìª½ ì •ë ¬ */
  font-weight: bold;
}

/* --- ê³µí†µ í…Œì´ë¸” ìŠ¤íƒ€ì¼ --- */
.mission-table,
.mega-crew-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 25px; /* í‘œ ì•„ë˜ ì—¬ë°± */
  font-size: 0.95rem;
  table-layout: fixed; /* ì…€ ë„ˆë¹„ë¥¼ ê³ ì •í•˜ì—¬ ë‚´ìš© ê¸¸ì´ì— ë”°ë¼ ëŠ˜ì–´ë‚˜ì§€ ì•Šë„ë¡ í•¨ */
}

.mission-table th,
.mission-table td,
.mega-crew-table th,
.mega-crew-table td {
  border: 1px solid #ddd;
  padding: 10px 12px;
  text-align: center;
  word-break: keep-all; /* ë‹¨ì–´ê°€ ê¸¸ì–´ë„ ì¤„ë°”ê¿ˆí•˜ì§€ ì•ŠìŒ */
}

.mission-table th,
.mega-crew-table th {
  background-color: #f0f0f0;
  font-weight: bold;
  color: #555;
}

/* K-POP ë¯¸ì…˜ í…Œì´ë¸” ìŠ¤íƒ€ì¼ (í–‰ ë°°ê²½ìƒ‰ ë° í˜¸ë²„ íš¨ê³¼ ì œê±°) */
/* .mission-table tbody tr:nth-child(even) {
  background-color: #f9f9f9;
} */
.mission-table tbody tr:nth-child(even), /* ì§ìˆ˜ í–‰ ë°°ê²½ìƒ‰ ì œê±° */
.mission-table tbody tr:nth-child(odd) {
  /* í™€ìˆ˜ í–‰ ë°°ê²½ìƒ‰ ì œê±° */
  background-color: transparent;
}
.mission-table tbody tr:hover {
  background-color: transparent; /* í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ì œê±° */
}

/* MEGA CREW í‘œ í–‰ ë°°ê²½ìƒ‰ ì œê±° */
.mega-crew-table.no-background-table-rows tbody tr:nth-child(odd) {
  background-color: transparent;
}

.mega-crew-table.no-background-table-rows tbody tr:hover {
  background-color: transparent;
}

.explanation-note {
  font-size: 0.85rem;
  color: #888;
  text-align: right;
  margin-top: 10px;
}

/* --- ì—°ë½ì²˜ ì •ë³´ ìŠ¤íƒ€ì¼ --- */
.contact-info {
  margin-top: 50px;
  color: #aaa;
  font-size: 0.9rem;
  text-align: left; /* ì™¼ìª½ ì •ë ¬ ìœ ì§€ */
}

.contact-info a {
  color: #999;
  text-decoration: none;
}

.contact-info a:hover {
  text-decoration: underline;
  color: #777;
}
</style>
